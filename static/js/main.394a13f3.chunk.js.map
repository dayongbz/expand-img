{"version":3,"sources":["useExpand.js","index.js"],"names":["useExpand","url","imgWrapRef","useRef","imgRef","magnifierRef","zoomWindowRef","detailImgRef","handleEnterEvent","window","addEventListener","mouseEvent","handleLeaveEvent","removeEventListener","current","style","display","_magnifierRef$current","magOffWid","offsetWidth","magOffHei","offsetHeight","_imgRef$current","imgOffWid","imgOffHei","imgOffTop","offsetTop","imgOffLeft","offsetLeft","_window$event","event","clientX","clientY","top","left","width","height","parseInt","useEffect","clientWidth","clientHeight","react_default","a","createElement","Fragment","id","ref","justifyContent","alignItems","src","alt","position","backgroundImage","bottom","right","overflow","border","ReactDOM","render","productImage","document","getElementById"],"mappings":"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","file":"static/js/main.394a13f3.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport \"./index.css\";\n\nconst useExpand = url => {\n  const imgWrapRef = useRef();\n  const imgRef = useRef();\n  const magnifierRef = useRef();\n  const zoomWindowRef = useRef();\n  const detailImgRef = useRef();\n\n  const handleEnterEvent = () => {\n    window.addEventListener(\"mousemove\", mouseEvent);\n  };\n\n  const handleLeaveEvent = () => {\n    window.removeEventListener(\"mousemove\", mouseEvent);\n    magnifierRef.current.style.display = \"none\";\n  };\n\n  const mouseEvent = () => {\n    const {\n      offsetWidth: magOffWid,\n      offsetHeight: magOffHei\n    } = magnifierRef.current;\n    const {\n      offsetWidth: imgOffWid,\n      offsetHeight: imgOffHei,\n      offsetTop: imgOffTop,\n      offsetLeft: imgOffLeft\n    } = imgRef.current;\n    const { clientX, clientY } = window.event;\n    magnifierRef.current.style.top = clientY - magOffHei / 2 + \"px\";\n    magnifierRef.current.style.left = clientX - magOffWid / 2 + \"px\";\n    detailImgRef.current.width =\n      imgRef.current.offsetWidth *\n      (zoomWindowRef.current.offsetWidth / magnifierRef.current.offsetWidth);\n    detailImgRef.current.height =\n      imgRef.current.offsetHeight *\n      (zoomWindowRef.current.offsetHeight / magnifierRef.current.offsetHeight);\n    if (\n      clientX >= imgOffLeft &&\n      clientX <= imgOffLeft + imgOffWid &&\n      clientY >= imgOffTop &&\n      clientY <= imgOffHei + imgOffTop\n    ) {\n      magnifierRef.current.style.display = \"block\";\n      zoomWindowRef.current.style.display = \"block\";\n    } else {\n      magnifierRef.current.style.display = \"none\";\n      zoomWindowRef.current.style.display = \"none\";\n    }\n    if (clientX <= imgOffLeft + magOffWid / 2) {\n      magnifierRef.current.style.left = imgOffLeft + \"px\";\n    } else if (clientX >= imgOffLeft - magOffWid / 2 + imgOffWid) {\n      magnifierRef.current.style.left =\n        imgOffLeft + imgOffWid - magOffWid + \"px\";\n    }\n    if (clientY <= imgOffTop + magOffHei / 2) {\n      magnifierRef.current.style.top = imgOffTop + \"px\";\n    } else if (clientY >= imgOffTop - magOffHei / 2 + imgOffHei) {\n      magnifierRef.current.style.top = imgOffTop + imgOffHei - magOffHei + \"px\";\n    }\n    if (detailImgRef.current) {\n      detailImgRef.current.style.left =\n        -(parseInt(magnifierRef.current.style.left) - imgOffLeft) *\n          (detailImgRef.current.offsetWidth / imgOffWid) +\n        \"px\";\n      detailImgRef.current.style.top =\n        -(parseInt(magnifierRef.current.style.top) - imgOffTop) *\n          (detailImgRef.current.offsetHeight / imgOffHei) +\n        \"px\";\n    }\n  };\n\n  useEffect(() => {\n    imgWrapRef.current.addEventListener(\"mouseenter\", handleEnterEvent);\n    imgWrapRef.current.addEventListener(\"mouseleave\", handleLeaveEvent);\n  });\n\n  useEffect(() => {\n    if (imgRef.current.clientWidth >= imgRef.current.clientHeight) {\n      imgRef.current.style.width = \"679px\";\n    } else {\n      imgRef.current.style.height = \"679px\";\n    }\n  }, [imgRef]);\n\n  return (\n    <>\n      <div\n        id=\"imgWrapper\"\n        ref={imgWrapRef}\n        style={{\n          width: \"900px\",\n          height: \"700px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        <img\n          id=\"ladingImage\"\n          ref={imgRef}\n          src={url}\n          alt=\"product img\"\n        />\n        <div\n          id=\"magnifier-lens\"\n          ref={magnifierRef}\n          style={{\n            display: \"none\",\n            position: \"absolute\",\n            backgroundImage:\n              \"url(https://images-na.ssl-images-amazon.com/images/G/01/apparel/rcxgs/tile._CB483369105_.gif)\",\n            width: \"300px\",\n            height: \"200px\",\n            left: 0,\n            top: 0\n          }}\n        />\n      </div>\n      <div\n        id=\"zoomWindow\"\n        ref={zoomWindowRef}\n        style={{\n          display: \"none\",\n          position: \"absolute\",\n          bottom: \"5vh\",\n          right: \"5vh\",\n          width: \"600px\",\n          height: \"400px\",\n          overflow: \"hidden\",\n          border: \"1px solid black\"\n        }}\n      >\n        <img\n          id=\"detailImg\"\n          ref={detailImgRef}\n          src={url}\n          alt=\"detail img\"\n          style={{ display: \"block\", position: \"absolute\", top: 0, left: 0 }}\n        />\n      </div>\n    </>\n  );\n};\nexport default useExpand;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport useExpand from \"./useExpand\";\n\nconst App = () => {\n  const productImage = useExpand('http://img.cgv.co.kr/Movie/Thumbnail/Poster/000081/81478/81478_1000.jpg');\n  return (\n    <>\n      {productImage}\n    </>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}