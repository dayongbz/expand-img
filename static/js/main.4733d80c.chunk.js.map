{"version":3,"sources":["useExpand.js","index.js"],"names":["useExpand","url","imgWrapRef","useRef","imgRef","magnifierRef","zoomWindowRef","detailImgRef","handleEnterEvent","window","addEventListener","mouseEvent","handleLeaveEvent","removeEventListener","current","style","display","_magnifierRef$current","magOffWid","offsetWidth","magOffHei","offsetHeight","_imgRef$current","imgOffWid","imgOffHei","imgOffTop","offsetTop","imgOffLeft","offsetLeft","_window$event","event","clientX","clientY","top","left","width","height","parseInt","useEffect","checkImgRefWid","setInterval","clearInterval","setTimeout","react_default","a","createElement","Fragment","id","ref","justifyContent","alignItems","src","alt","position","backgroundImage","bottom","right","overflow","border","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","setUrl","productImage","submitImgUrl","preventDefault","document","querySelector","value","type","getElementById"],"mappings":"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","file":"static/js/main.4733d80c.chunk.js","sourcesContent":["import React, { useRef, useEffect } from \"react\";\nimport \"./index.css\";\n\nconst useExpand = url => {\n  const imgWrapRef = useRef();\n  const imgRef = useRef();\n  const magnifierRef = useRef();\n  const zoomWindowRef = useRef();\n  const detailImgRef = useRef();\n\n  const handleEnterEvent = () => {\n    window.addEventListener(\"mousemove\", mouseEvent);\n  };\n\n  const handleLeaveEvent = () => {\n    window.removeEventListener(\"mousemove\", mouseEvent);\n    magnifierRef.current.style.display = \"none\";\n  };\n\n  const mouseEvent = () => {\n    const {\n      offsetWidth: magOffWid,\n      offsetHeight: magOffHei\n    } = magnifierRef.current;\n    const {\n      offsetWidth: imgOffWid,\n      offsetHeight: imgOffHei,\n      offsetTop: imgOffTop,\n      offsetLeft: imgOffLeft\n    } = imgRef.current;\n    const { clientX, clientY } = window.event;\n    magnifierRef.current.style.top = clientY - magOffHei / 2 + \"px\";\n    magnifierRef.current.style.left = clientX - magOffWid / 2 + \"px\";\n    detailImgRef.current.width =\n      imgRef.current.offsetWidth *\n      (zoomWindowRef.current.offsetWidth / magnifierRef.current.offsetWidth);\n    detailImgRef.current.height =\n      imgRef.current.offsetHeight *\n      (zoomWindowRef.current.offsetHeight / magnifierRef.current.offsetHeight);\n    if (\n      clientX >= imgOffLeft &&\n      clientX <= imgOffLeft + imgOffWid &&\n      clientY >= imgOffTop &&\n      clientY <= imgOffHei + imgOffTop\n    ) {\n      magnifierRef.current.style.display = \"block\";\n      zoomWindowRef.current.style.display = \"block\";\n    } else {\n      magnifierRef.current.style.display = \"none\";\n      zoomWindowRef.current.style.display = \"none\";\n    }\n    if (clientX <= imgOffLeft + magOffWid / 2) {\n      magnifierRef.current.style.left = imgOffLeft + \"px\";\n    } else if (clientX >= imgOffLeft - magOffWid / 2 + imgOffWid) {\n      magnifierRef.current.style.left =\n        imgOffLeft + imgOffWid - magOffWid + \"px\";\n    }\n    if (clientY <= imgOffTop + magOffHei / 2) {\n      magnifierRef.current.style.top = imgOffTop + \"px\";\n    } else if (clientY >= imgOffTop - magOffHei / 2 + imgOffHei) {\n      magnifierRef.current.style.top = imgOffTop + imgOffHei - magOffHei + \"px\";\n    }\n    if (detailImgRef.current) {\n      detailImgRef.current.style.left =\n        -(parseInt(magnifierRef.current.style.left) - imgOffLeft) *\n          (detailImgRef.current.offsetWidth / imgOffWid) +\n        \"px\";\n      detailImgRef.current.style.top =\n        -(parseInt(magnifierRef.current.style.top) - imgOffTop) *\n          (detailImgRef.current.offsetHeight / imgOffHei) +\n        \"px\";\n    }\n  };\n\n  useEffect(() => {\n    imgWrapRef.current.addEventListener(\"mouseenter\", handleEnterEvent);\n    imgWrapRef.current.addEventListener(\"mouseleave\", handleLeaveEvent);\n  });\n\n  useEffect(() => {\n    const checkImgRefWid = setInterval(() => {\n      if (imgRef.current.width >= imgRef.current.height && imgRef.current.width !== 0) {\n        imgRef.current.style.width = \"679px\";\n        clearInterval(checkImgRefWid)\n      } else if (imgRef.current.width < imgRef.current.height) {\n        imgRef.current.style.height = \"679px\";\n        clearInterval(checkImgRefWid)\n      } else {\n        setTimeout(() => {\n\n        clearInterval(checkImgRefWid)\n        },10000)\n      }\n    }, 50);\n  }, [url]);\n\n  return (\n    <>\n      <div\n        id=\"imgWrapper\"\n        ref={imgWrapRef}\n        style={{\n          width: \"900px\",\n          height: \"700px\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        }}\n      >\n        <img id=\"ladingImage\" ref={imgRef} src={url} alt=\"product img\" />\n        <div\n          id=\"magnifier-lens\"\n          ref={magnifierRef}\n          style={{\n            display: \"none\",\n            position: \"absolute\",\n            backgroundImage:\n              \"url(https://images-na.ssl-images-amazon.com/images/G/01/apparel/rcxgs/tile._CB483369105_.gif)\",\n            width: \"150px\",\n            height: \"100px\",\n            left: 0,\n            top: 0\n          }}\n        />\n      </div>\n      <div\n        id=\"zoomWindow\"\n        ref={zoomWindowRef}\n        style={{\n          display: \"none\",\n          position: \"absolute\",\n          bottom: \"5vh\",\n          right: \"5vh\",\n          width: \"600px\",\n          height: \"400px\",\n          overflow: \"hidden\",\n          border: \"1px solid black\"\n        }}\n      >\n        <img\n          id=\"detailImg\"\n          ref={detailImgRef}\n          src={url}\n          alt=\"detail img\"\n          style={{ display: \"block\", position: \"absolute\", top: 0, left: 0 }}\n        />\n      </div>\n    </>\n  );\n};\nexport default useExpand;\n","import React, { useState,useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport useExpand from \"./useExpand\";\n\nconst App = () => {\n  const [url, setUrl] = useState(\n    \"http://img.cgv.co.kr/Movie/Thumbnail/Poster/000081/81478/81478_1000.jpg\"\n  );\n  const productImage = useExpand(url);\n  const submitImgUrl = (event) => {\n    event.preventDefault()\n    if(document.querySelector('#imgUrl').value) {\n      setUrl(document.querySelector('#imgUrl').value)\n    } else {\n      return;\n    }\n  }\n  useEffect(() => {\n    document.querySelector('#imgUrlForm').addEventListener('submit',submitImgUrl)\n  },[])\n  return (\n    <>\n      {productImage}\n      <form id=\"imgUrlForm\">\n        <input id=\"imgUrl\"/>\n        <input id=\"submitUrl\"type=\"submit\" value=\"이미지 적용\"/>\n      </form>\n    </>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}